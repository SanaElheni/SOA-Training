package graphql;

import business.ModuleBusiness;
import business.UniteEnseignementBusiness;
import com.coxautodev.graphql.tools.GraphQLRootResolver;
import entities.Module;
import entities.UniteEnseignement;

import java.util.List;

public class QueryResolver implements GraphQLRootResolver {

    private UniteEnseignementBusiness ueHelper;
    private ModuleBusiness moduleHelper;

    public QueryResolver() {
        ueHelper = new UniteEnseignementBusiness();
        moduleHelper = new ModuleBusiness();
    }


    // Unit√©s d'enseignement

    public List<UniteEnseignement> allUEs() {
        return ueHelper.getListeUE();
    }

    public UniteEnseignement getUEByCode(int code) {
        return ueHelper.getUEByCode(code);
    }

    public List<UniteEnseignement> getUEByDomaine(String domaine) {
        return ueHelper.getUEByDomaine(domaine);
    }

    public List<UniteEnseignement> getUEBySemestre(int semestre) {
        return ueHelper.getUEBySemestre(semestre);
    }

    // Modules

    public List<Module> allModules() {
        return moduleHelper.getAllModules();
    }

    public Module getModuleByMatricule(String matricule) {
        return moduleHelper.getModuleByMatricule(matricule);
    }

    public List<Module> getModulesByType(String type) {
        // Conversion String -> Enum TypeModule
        Module.TypeModule moduleType = Module.TypeModule.valueOf(type.toUpperCase());
        return moduleHelper.getModulesByType(moduleType);
    }

}
